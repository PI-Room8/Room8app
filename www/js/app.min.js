function onSuccess(e){var n=document.getElementById("myImage");n.SRC=e}function onFail(e){alert("a échoué car: "+e)}!function(e,n){"use strict";function t(e){return n.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function o(e,t,o){r.directive(e,["$parse","$swipe",function(r,a){var l=75,s=.3,i=30;return function(c,u,d){function m(e){if(!p)return!1;var n=Math.abs(e.y-p.y),o=(e.x-p.x)*t;return h&&l>n&&o>0&&o>i&&s>n/o}var p,h,g=r(d[e]),b=["touch"];n.isDefined(d.ngSwipeDisableMouse)||b.push("mouse"),a.bind(u,{start:function(e){p=e,h=!0},cancel:function(){h=!1},end:function(e,n){m(e)&&c.$apply(function(){u.triggerHandler(o),g(c,{$event:n})})}},b)}}])}var r=n.module("ngTouch",[]);r.factory("$swipe",[function(){function e(e){var n=e.originalEvent||e,t=n.touches&&n.touches.length?n.touches:[n],o=n.changedTouches&&n.changedTouches[0]||t[0];return{x:o.clientX,y:o.clientY}}function t(e,t){var o=[];return n.forEach(e,function(e){var n=r[e][t];n&&o.push(n)}),o.join(" ")}var o=10,r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(n,r,a){var l,s,i,c,u=!1;a=a||["mouse","touch"],n.on(t(a,"start"),function(n){i=e(n),u=!0,l=0,s=0,c=i,r.start&&r.start(i,n)});var d=t(a,"cancel");d&&n.on(d,function(e){u=!1,r.cancel&&r.cancel(e)}),n.on(t(a,"move"),function(n){if(u&&i){var t=e(n);if(l+=Math.abs(t.x-c.x),s+=Math.abs(t.y-c.y),c=t,!(o>l&&o>s))return s>l?(u=!1,r.cancel&&r.cancel(n),void 0):(n.preventDefault(),r.move&&r.move(t,n),void 0)}}),n.on(t(a,"end"),function(n){u&&(u=!1,r.end&&r.end(e(n),n))})}}}]),r.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(e,o,r){function a(e,n,t,o){return Math.abs(e-t)<b&&Math.abs(n-o)<b}function l(e,n,t){for(var o=0;o<e.length;o+=2)if(a(e[o],e[o+1],n,t))return e.splice(o,o+2),!0;return!1}function s(e){if(!(Date.now()-u>g)){var n=e.touches&&e.touches.length?e.touches:[e],o=n[0].clientX,r=n[0].clientY;1>o&&1>r||m&&m[0]===o&&m[1]===r||(m&&(m=null),"label"===t(e.target)&&(m=[o,r]),l(d,o,r)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function i(e){var n=e.touches&&e.touches.length?e.touches:[e],t=n[0].clientX,r=n[0].clientY;d.push(t,r),o(function(){for(var e=0;e<d.length;e+=2)if(d[e]==t&&d[e+1]==r)return d.splice(e,e+2),void 0},g,!1)}function c(e,n){d||(r[0].addEventListener("click",s,!0),r[0].addEventListener("touchstart",i,!0),d=[]),u=Date.now(),l(d,e,n)}var u,d,m,p=750,h=12,g=2500,b=25,f="ng-click-active";return function(t,o,r){function a(){m=!1,o.removeClass(f)}var l,s,i,u,d=e(r.ngClick),m=!1;o.on("touchstart",function(e){m=!0,l=e.target?e.target:e.srcElement,3==l.nodeType&&(l=l.parentNode),o.addClass(f),s=Date.now();var n=e.originalEvent||e,t=n.touches&&n.touches.length?n.touches:[n],r=t[0];i=r.clientX,u=r.clientY}),o.on("touchcancel",function(){a()}),o.on("touchend",function(e){var t=Date.now()-s,d=e.originalEvent||e,g=d.changedTouches&&d.changedTouches.length?d.changedTouches:d.touches&&d.touches.length?d.touches:[d],b=g[0],f=b.clientX,v=b.clientY,w=Math.sqrt(Math.pow(f-i,2)+Math.pow(v-u,2));m&&p>t&&h>w&&(c(f,v),l&&l.blur(),n.isDefined(r.disabled)&&r.disabled!==!1||o.triggerHandler("click",[e])),a()}),o.onclick=function(){},o.on("click",function(e,n){t.$apply(function(){d(t,{$event:n||e})})}),o.on("mousedown",function(){o.addClass(f)}),o.on("mousemove mouseup",function(){o.removeClass(f)})}}]),o("ngSwipeLeft",-1,"swipeleft"),o("ngSwipeRight",1,"swiperight")}(window,window.angular),angular.module("Room8.directives.Scan",["mobile-angular-ui.components.scrollable"]).directive("camera",function(){return{restrict:"A",require:"ngModel",link:function(e,n,t,o){n.on("click",function(){navigator.camera.getPicture(function(n){e.$apply(function(){o.$setViewValue(n)})},function(){o.$setValidity("error",!1)},{quality:50,destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1})})}}}),navigator.camera.getPicture(onSuccess,onFail,{quality:50,destinationType:Camera.DestinationType.FILE_URI}),angular.module("Room8.directives.ngConfirmBoxClick",["mobile-angular-ui.components.scrollable"]).directive("ngConfirmBoxClick",function(){return{link:function(e,n,t){var o=t.ngConfirmBoxClick||"Are you sure?",r=t.ngClick;n.bind("click",function(){window.confirm(o)&&e.$eval(r)})}}}),angular.module("Room8.directives.ChecklistModel",[]).directive("checklistModel",["$parse","$compile",function(e,n){function t(e,n,t){if(angular.isArray(e))for(var o=e.length;o--;)if(t(e[o],n))return!0;return!1}function o(e,n,o){return e=angular.isArray(e)?e:[],t(e,n,o)||e.push(n),e}function r(e,n,t){if(angular.isArray(e))for(var o=e.length;o--;)if(t(e[o],n)){e.splice(o,1);break}return e}function a(a,l,s){function i(e){a.checked=t(e,m,p)}n(l)(a);var c=e(s.checklistModel),u=c.assign,d=e(s.checklistChange),m=e(s.checklistValue)(a.$parent),p=angular.equals;s.hasOwnProperty("checklistComparator")&&(p=e(s.checklistComparator)(a.$parent)),a.$watch("checked",function(e,n){if(e!==n){var t=c(a.$parent);e===!0?u(a.$parent,o(t,m,p)):u(a.$parent,r(t,m,p)),d&&d(a)}}),angular.isFunction(a.$parent.$watchCollection)?a.$parent.$watchCollection(s.checklistModel,i):a.$parent.$watch(s.checklistModel,i,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,n){if("INPUT"!==e[0].tagName||"checkbox"!==n.type)throw'checklist-model should be applied to `input[type="checkbox"]`.';if(!n.checklistValue)throw"You should provide `checklist-value`.";return e.removeAttr("checklist-model"),e.attr("ng-model","checked"),a}}}]),angular.module("Room8.controllers.ToDo",["mobile-angular-ui.components.scrollable"]).controller("ToDoController",["$scope","$http","$rootScope","$location",function(e,n,t,o){e.isVisible=!1,e.customStyle={},"0"!=t.User.id_utilisateur?"0"==t.User.id_colocation?o.path("/FindFlat").replace():(n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getTasks?id="+t.User.id_colocation,headers:{Accept:"application/json"}}).success(function(n){e.Tasks=n}).error(function(){alert("Can't get the wainting tasks")}),n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getListe?id="+t.User.id_colocation,headers:{Accept:"application/json"}}).success(function(n){e.Liste=n}).error(function(){alert("Can't get your usual tasks")})):o.path("/").replace(),e.addTask=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/addTask?idColoc="+t.User.id_colocation+"&username="+t.User.nom_utilisateur+"&idTache="+e.idTache,headers:{Accept:"application/json"}}).success(function(e){1==e?(alert("Your task has been asked well !"),o.path("/ToDo").replace()):alert("Can't post your task")}).error(function(e,n,t,o){alert(e,n,t,o)})},e.newTask=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/newTask?idColoc="+t.User.id_colocation+"&username="+t.User.nom_utilisateur+"&text="+e,headers:{Accept:"application/json"}}).success(function(e){1==e?(alert("Your task has been asked well !"),o.path("/ToDo").replace()):alert("Can't post your task")}).error(function(e,n,t,o){alert(e,n,t,o)})},e.deleteTask=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/deleteTask?idColoc="+t.User.id_colocation+"&username="+t.User.nom_utilisateur+"&idTache="+e.idTache,headers:{Accept:"application/json"}}).success(function(e){1==e?(alert("Task has been deleted"),o.path("/ToDo").replace()):alert("Can't delete your task")}).error(function(e,n,t,o){alert(e,n,t,o)})},e.toggle=function(){e.isVisible=!e.isVisible},e.color=function(e){return e>=0?{color:"green"}:{color:"red"}},e.text=function(e){return e>=0?"He paid":"I paid"}}]),angular.module("Room8.controllers.Spending",["mobile-angular-ui.components.scrollable","Room8.directives.ChecklistModel"]).controller("SpendingController",["$scope","$http","$location","$rootScope",function(e,n,t,o){"0"!=o.User.id_utilisateur?n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getAllRoommates?id="+o.User.id_colocation,headers:{Accept:"application/json"}}).success(function(r){e.Liste=r,e.mate=[],e.user=o.User.id_utilisateur,e.newTransfer=function(r,a){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/addSpending?id="+o.User.id_utilisateur+"&amount="+a,data:e.mate,headers:{Accept:"application/json"}}).success(function(){alert("You announced a spending"),t.path("/Accounts").replace()}).error(function(){alert("Can't post transfer")})}}).error(function(){alert("Can't get roomates")}):t.path("/").replace()}]),angular.module("Room8.controllers.Settings",["mobile-angular-ui.components.scrollable","Room8.directives.ngConfirmBoxClick"]).controller("SettingController",["$scope","$http","$location","$rootScope",function(e,n,t,o){"0"!=o.User.id_utilisateur?(e.User=o.User,e.update=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/updateUser?id="+e.id_utilisateur+"&nom="+e.nom_utilisateur+"&mdp="+e.mot_de_passe+"&mail="+e.adresse_mail,headers:{Accept:"application/json"}}).success(function(n){1==n?(o.User.nom_utilisateur=e.nom_utilisateur,o.User.mot_de_passe=e.mot_de_passe,o.User.adresse_mail=e.adresse_mail,alert("Your profile has been updated")):2==n?alert("This pseudo is already being used"):3==n?alert("This mail address already has an account"):alert("Try Again, something is wrong")}).error(function(e,n,t,o){alert(e,n,t,o)})},e.leaveFlat=function(){n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/leaveFlat?flatId="+o.User.id_colocation+"&userId="+o.User.id_utilisateur,headers:{Accept:"application/json"}}).success(function(){o.User.id_colocation=0,t.path("/FindFlat").replace()}).error(function(e,n,t,o){console.log(e,n,t,o)})}):t.path("/").replace(),e.refresh=function(){t.path("/Settings").replace()}}]),angular.module("Room8.controllers.Scan",["mobile-angular-ui.components.scrollable","Room8.directives.Scan"]).controller("ScanController",["$scope","$http","$rootScope","$location",function(e){function n(){r=navigator.camera.PictureSourceType,a=navigator.camera.DestinationType}function t(e){var n=document.getElementById("largeImage");n.style.display="block",n.src=e}function o(e){alert("Echec car : "+e)}e.myPictures=[],e.$watch("myPicture",function(e){e&&myPictures.push(e)},!0);var r,a;document.addEventListener("deviceready",n,!1),e.getPhoto=function(){navigator.camera.getPicture(t,o,{quality:50,destinationType:a.FILE_URI,sourceType:source})}}]),angular.module("Room8.controllers.Registration",["mobile-angular-ui.components.scrollable"]).controller("RegistrationController",["$scope","$http","$location","$route","$rootScope",function(e,n,t,o,r){n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getSession",headers:{Accept:"application/json"}}).success(function(o){r.User=o,0==r.User.id_utilisateur?(e.create=function(e){e.password==e.confirmPassword?n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/addUser?nom="+e.nom+"&mdp="+e.password+"&mail="+e.mail,headers:{Accept:"application/json"}}).success(function(o){1==o?(alert("Your profile has been created"),n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getUser?name="+e.nom,headers:{Accept:"application/json"}}).success(function(e){r.User=e,r.Connected=!0,0==r.User.id_colocation?t.path("/FindFlat").replace():t.path("/Newsfeed").replace()}).error(function(){alert("Can't get User")})):2==o?alert("This pseudo is already being used"):3==o?alert("This mail address already has an account"):alert("Try Again, something is wrong")}).error(function(e,n,t,o){alert(e,n,t,o)}):alert("Please confirm your password!")},e.connect=function(e){n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/login?name="+e.pseudo+"&password="+e.password,headers:{Accept:"application/json"}}).success(function(e){""==e?alert("Error : Your pseudo and your password don't match "):(r.User=e,alert("Successful!"),r.Connected=!0,0==r.User.id_colocation?t.path("/FindFlat").replace():t.path("/Newsfeed").replace())}).error(function(e,n,t,o){alert(e,n,t,o)})}):(console.log("Je redirige"),t.path("/Newsfeed").replace())}).error(function(e,n,t,o){alert(e,n,t,o)})}]),angular.module("Room8.controllers.News",["mobile-angular-ui.components.scrollable"]).controller("NewsController",["$scope","$http","$rootScope","$location",function(e,n,t,o){e.getAllNews=function(){n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getAllNews?id="+t.User.id_colocation,headers:{Accept:"application/json"}}).success(function(n){e.Liste=n}).error(function(){alert("Can't get News")})},"0"!=t.User.id_utilisateur?"0"==t.User.id_colocation?o.path("/FindFlat").replace():e.getAllNews():o.path("/").replace()}]),angular.module("Room8.controllers.Myflat",["mobile-angular-ui.components.scrollable"]).controller("MyflatController",["$scope","$http","$rootScope","$location",function(e,n,t,o){0==t.User.id_utilisateur?o.path("/").replace():0==t.User.id_colocation?o.path("/FindFlat").replace():(n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getMyFlat?id="+t.User.id_colocation,headers:{Accept:"application/text"}}).success(function(n){e.myflatname=n}).error(function(){alert("Can't get Flat Name")}),n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getAllRoommates?id="+t.User.id_colocation,headers:{Accept:"application/json"}}).success(function(n){e.Liste=n}).error(function(){alert("Can't get Roommates")}),e.add=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/addMate?mail="+e.mail,headers:{Accept:"application/json"}}).success(function(){alert("New mate added")}).error(function(){alert("Can't add new mate")})})}]),angular.module("Room8.controllers.Main",["mobile-angular-ui.components.scrollable"]).controller("MainController",["$rootScope","$http","$location","$scope",function(e,n,t,o){o.logout=function(){0!=e.User.id_utilisateur?n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/logout",headers:{Accept:"application/json"}}).success(function(){e.User.id_colocation="0",e.User.id_utilisateur="0",t.path("/").replace()}).error(function(){console.log("error disconnection")}):t.path("/").replace()}}]),angular.module("Room8.controllers.Groceries",["mobile-angular-ui.components.scrollable","mobile-angular-ui.gestures.swipe","mobile-angular-ui.gestures.drag"]).controller("GroceriesController",["$scope","$http","$rootScope","$location","$drag","$element",function(e,n,t,o){e.showActions=!1,e.cancel=function(){e.showActions=!1},e.deleteOneProduct=function(o){n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/deleteProduct?id="+t.User.id_colocation+"&product="+o.nom+"&username="+t.User.nom_utilisateur,headers:{Accept:"application/json"}}).success(function(n){1==n?alert(o.nom+" deleted"):console.log(o.nom+" error"),e.getAllProducts()}).error(function(){alert("Can't delete Products")})},e.getAllProducts=function(){n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getAllProducts?id="+t.User.id_colocation,headers:{Accept:"application/json"}}).success(function(n){e.Liste=n}).error(function(){alert("Can't get Products")})},0!=t.User.id_utilisateur?0==t.User.id_colocation?o.path("/FindFlat").replace():(e.getAllProducts(),e.addProduct=function(r){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/addProduct?id="+t.User.id_colocation+"&product="+r.name+"&username="+t.User.nom_utilisateur,headers:{Accept:"application/json"}}).success(function(n){1==n?(alert("Product added"),e.getAllProducts(),o.path("/Groceries").replace()):0==n?alert("Error: product not added"):alert("Error SQL")}).error(function(){alert("Can't POST")})},e.deleteProducts=function(){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/deleteAllProducts?id="+t.User.id_colocation+"&username="+t.User.nom_utilisateur,headers:{Accept:"application/json"}}).success(function(n){1==n?(alert("Products deleted"),e.getAllProducts(),o.path("/Groceries").replace()):0==n?alert("Error: products not deleted"):alert("Error SQL")}).error(function(e){alert("Can't POST"),alert(e)})}):o.path("/").replace()}]),angular.module("Room8.controllers.Flatcreation",["mobile-angular-ui.components.scrollable"]).controller("FlatcreationController",["$scope","$http","$location","$rootScope",function(e,n,t,o){0!=o.User.id_utilisateur?e.create=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/createFlat?name="+e.nom+"&id="+o.User.id_utilisateur,headers:{Accept:"application/json"}}).success(function(e){1==e?(alert("Your flat has been created"),n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getUserFlat?name="+o.User.nom_utilisateur,headers:{Accept:"application/json"}}).success(function(e){o.User.id_colocation=e,t.path("/Newsfeed").replace}).error(function(e){alert(e)})):0==e?alert("This name is already being used"):alert("Try Again, something went wrong")}).error(function(e){alert(e)})}:t.path("/").replace()}]),angular.module("Room8.controllers.Findflat",["mobile-angular-ui.components.scrollable"]).controller("FindflatController",["$scope","$http","$location","$rootScope",function(e,n,t,o){0==o.User.id_utilisateur?t.path("/").replace():0!=o.User.id_colocation?t.path("/Newsfeed").replace():(e.search=function(t){""!=t.nom?n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getFlatName?name="+t.nom,headers:{Accept:"application/json"}}).success(function(n){e.Liste=n,console.log(e.Liste)}).error(function(e){alert(e)}):alert("Please enter a name flat")},e.create=function(){t.path("/Flatcreation").replace()},e.join=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/joinFlat?flatId="+e+"&userId="+o.User.id_utilisateur,headers:{Accept:"application/json"}}).success(function(){alert("You join the flat !"),o.User.id_colocation=e,t.path("/Newsfeed").replace()}).error(function(){alert("Can't join the flat")})})}]),angular.module("Room8.controllers.Chat",["mobile-angular-ui.components.scrollable"]).controller("ChatController",["$scope","$http","$rootScope","$location",function(){}]),angular.module("Room8.controllers.Accounts",["mobile-angular-ui.components.scrollable"]).controller("AccountsController",["$scope","$http","$location","$rootScope",function(e,n,t,o){"0"!=o.User.id_utilisateur?(n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getSold?id="+o.User.id_utilisateur,headers:{Accept:"application/json"}}).success(function(n){e.sold=n}).error(function(){alert("Can't get Sold")}),n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getAllRoommates?id="+o.User.id_colocation,headers:{Accept:"application/json"}}).success(function(n){e.Mate=n,o.Mates=e.Mate}).error(function(){alert("Can't get Roommates")}),e.isVisible=!1,e.customStyle={},e.transf={idDoit:o.User.id_utilisateur,idRecoit:"",amount:""},e.getAll=function(){n({method:"GET",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/getAllTransfers?id="+o.User.id_utilisateur,headers:{Accept:"application/json"}}).success(function(n){e.Liste=n,e.isVisible=!e.isVisible}).error(function(){alert("Can't get transfers")})},e.refresh=function(){t.path("/Accounts").replace()},e.payer=function(e,n){return e==o.User.nom_utilisateur?n:e},e.color=function(e){return e==o.User.nom_utilisateur?{color:"green"}:{color:"red"}},e.colorSolde=function(e){return e>=0?{color:"green"}:{color:"red"}},e.text=function(e){return e==o.User.nom_utilisateur?"I've been paid":"I paid"},e.newSpending=function(){e.getAll(),t.path("/Spending").replace()},e.deleteTransfer=function(r){console.log(r),r.nomDoit==o.User.nom_utilisateur?(r.idDoit=o.User.id_utilisateur,angular.forEach(o.Mates,function(e){e.nom_utilisateur==r.nomRecoit&&(r.idRecoit=e.id_utilisateur)})):(r.idRecoit=o.User.id_utilisateur,angular.forEach(o.Mates,function(e){e.nom_utilisateur==r.nomDoit&&(r.idDoit=e.id_utilisateur)})),console.log(r),n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/deleteTransfer?idGet="+r.idRecoit+"&idGive="+r.idDoit+"&amount="+r.dette,headers:{Accept:"application/json"}}).success(function(n){1==n?(alert("You announced a transfer"),e.refresh()):2==n?(alert("Error: your sold has not been updated"),t.path("/Accounts").replace()):3==n?(alert("Error: transfer not announced"),t.path("/Accounts").replace()):alert("Error")}).error(function(){alert("Can't post transfer")})},e.updateTransfer=function(e){n({method:"POST",url:"http://room8env-vgps3jicwb.elasticbeanstalk.com/deleteTransfer?idGet="+e.idRecoit+"&idGive="+e.idDoit+"&amount="+e.amount,headers:{Accept:"application/json"}}).success(function(e){1==e?(alert("You announced a transfer"),t.path("/Accounts").replace()):2==e?(alert("Error: your sold has not been updated"),t.path("/Accounts").replace()):3==e?(alert("Error: transfer not announced"),t.path("/Accounts").replace()):alert("Error")}).error(function(){alert("Can't post transfer")})}):t.path("/").replace()}]),angular.module("Room8",["ngRoute","mobile-angular-ui.gestures","mobile-angular-ui","mobile-angular-ui.components.scrollable","mobile-angular-ui.core.sharedState","Room8.controllers.Main","Room8.controllers.News","Room8.controllers.Registration","Room8.controllers.Settings","Room8.controllers.Findflat","Room8.controllers.Flatcreation","Room8.controllers.Myflat","Room8.controllers.Groceries","Room8.controllers.Scan","Room8.controllers.ToDo","Room8.controllers.Accounts","Room8.controllers.Spending"]).config(["$routeProvider","$httpProvider",function(e,n){n.defaults.useXDomain=!0,delete n.defaults.headers.common["X-Requested-With"],e.when("/",{templateUrl:"registration.html",reloadOnSearch:!1}),e.when("/MyFlat",{templateUrl:"myflat.html",reloadOnSearch:!1}),e.when("/Accounts",{templateUrl:"accounts.html",reloadOnSearch:!1}),e.when("/Spending",{templateUrl:"spending.html",reloadOnSearch:!1}),e.when("/Chat",{templateUrl:"chat.html",reloadOnSearch:!1}),e.when("/ToDo",{templateUrl:"todo.html",reloadOnSearch:!1}),e.when("/Scan",{templateUrl:"scan.html",reloadOnSearch:!1}),e.when("/Newsfeed",{templateUrl:"newsfeed.html",reloadOnSearch:!1}),e.when("/Groceries",{templateUrl:"groceries.html",reloadOnSearch:!1}),e.when("/Settings",{templateUrl:"settings.html",reloadOnSearch:!1}),e.when("/FindFlat",{templateUrl:"findflat.html",reloadOnSearch:!1}),e.when("/Flatcreation",{templateUrl:"flatcreation.html",reloadOnSearch:!1})}]).directive("dragToDismiss",["$drag","$parse","$timeout",function(e,n,t){return{restrict:"A",compile:function(o,r){var a=n(r.dragToDismiss);return function(n,o){var r=!1;e.bind(o,{constraint:{minX:0,minY:0,maxY:0},move:function(e){e.left>=e.width/4?(r=!0,o.addClass("dismiss")):(r=!1,o.removeClass("dismiss"))},cancel:function(){o.removeClass("dismiss")},end:function(e,l,s){r?(o.addClass("dismitted"),t(function(){n.$apply(function(){a(n)})},400)):s()}})}}}}]).run(["$rootScope",function(e){e.Connected=!1,e.User={}}]),angular.module("Room8").run(["$templateCache",function(e){e.put("accounts.html",'<section class="section container-fluid scrollable scrollable-content" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" ng-controller="AccountsController" overflow:auto>\n\n    <h2 class="sub-header">Accounts</h2>\n\n    	<div class="container">	\n			<h3 class="col-xs-12 col-sm-8 col-md-6"><center>Your Sold</center></h3>\n		</div>\n		\n		</br>\n		\n		<div class="container">	\n			<h4>You have : <span ng-style="colorSolde(sold)"><span id=\'number-default\'>{{sold | number:2}}</span> €     \n				<button ng-click="getAll()" class="btn btn-primary" target="transferts">Details</button>\n			</h4>\n			<div ng-show="isVisible" class="ng-hide">\n				<table class="table col-xs-12">\n\n					<thead>\n						<tr>\n							<th>Roommate</th>\n							<th>Amount</th>\n							<th>Paid ?</th>\n						</tr>\n					</thead>\n					<tbody>\n						<tr ng-repeat="transfer in Liste" ng-if="transfer.dette != 0">\n							<td>{{payer(transfer.nomRecoit,transfer.nomDoit)}}</td>\n							<td ng-style="color(transfer.nomRecoit)"><span id=\'number-default\'>{{transfer.dette | number:2}}</span> €</td>		\n							<td><button ng-click="deleteTransfer(transfer)" type="submit" class="btn btn-primary">{{text(transfer.nomRecoit)}}</button></td>\n						</tr>\n					</tbody>\n				</table>\n  				\n			</div>\n			\n		</div>\n\n		</br>\n\n		<div class="container">	\n			<h4>Did you reimburse someone partially ?</h4>\n\n			<form class="form-inline">\n\n				<div class="row">\n\n  					<div class="col-xs-5">\n  						<div class="input-group">\n   							<input type="text" class="form-control" placeholder="Amount" ng-model="transf.amount">\n    						<div class="input-group-addon">€</div>\n						</div>\n 				 	</div>\n\n  					<div class="col-xs-2">\n    					<i class="fa fa-chevron-circle-right fa-2x"></i>\n  					</div>	\n\n  					<div class="col-xs-5 input-group">\n  						<select class="form-control input-xs" ng-model="transf.idRecoit">\n    						<option ng-repeat="roomate in Mate" value="{{roomate.id_utilisateur}}">{{roomate.nom_utilisateur}}</option>\n    					</select>\n					</div>\n\n				</div>\n\n				</br>\n\n  				<div class="row text-center">\n    				<button ng-click="updateTransfer(transf)" type="submit" class="btn btn-primary center-block">Announce reimbursement</button>\n  				</div>\n				</br>\n			</form>\n\n		</div>	\n\n		<div class="container">	\n\n			<h4>Do you have to be reimbursed ? </h4>\n\n			<button ng-click="newSpending()" type="submit" class="btn btn-lg btn-primary btn-block">Announce spending</button>\n\n		</div>	\n		\n\n</section>\n\n\n   \n \n\n\n'),e.put("chat.html",'<!DOCTYPE html>\n<html>\n    <head>\n        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n        <link rel="stylesheet" href="../static/design.css" />\n        <title>Room8</title>\n    </head>\n\n	<!--Contenu de la page/onglet à rajouter-->\n	<section class="section container-fluid">\n	  <h1 class="page-header">Chat Page</h1>  \n	</section>\n\n</html>\n'),e.put("findflat.html",'<section class="section container-fluid scrollable scrollable-content" ng-controller="FindflatController" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" overflow:auto>\n\n	<div class="container-fluid">\n		<h1>Reach a flat</h1>\n	\n	\n		<form class="form-signin" method="POST" name="ChangeProfile" role="profile">\n			<label for="pseudo" class="sr-only">Name of your flat ?</label>\n			<input type="text" id="flat" class="form-control" size="30" maxlength="30" placeholder="Find" ng-model="flat.nom" autofocus>\n		</br>\n			<button ng-click="search(flat)" type="submit" class="btn btn-lg btn-primary btn-block">Search</button>\n		</form>\n		</br>\n		\n        <div overflow: auto class="table-hover table-condensed">\n			<table class="table" data-toggle="table" data-cache="false" data-click-to-select="true" data-single-select="true">\n\n				<thead>\n					<tr>\n						<th>Name</th>\n						<th>Flatmates</th>\n						<th>Rejoindre</th>\n					</tr>\n				</thead>\n				<tbody>\n					<tr ng-repeat="colocation in Liste">\n						<td>{{colocation.nom}}</td>\n						<td>{{colocation.nombre_colocataire}}</td>\n						<td>\n							<div class="input-group">\n                				<button ng-click="join(colocation.id_colocation)" class="btn btn-primary">\n                					Join\n                				</button>\n            				</div>\n	   					</td>		\n					</tr>\n				</tbody>\n			</table>\n		</div>\n\n		<h2>You want to create a flat sharing ? It\'s here !</h2>\n		<button ng-click="create()" type="submit" class="btn btn-lg btn-primary btn-block">Create</button>\n	</div> \n	</br>\n\n</section>\n'),e.put("flatcreation.html",'<section class="section container-fluid scrollable scrollable-content" ng-controller="FlatcreationController" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" overflow:auto>\n	\n			<div class="container-fluid" >	\n				<h1 class="form-signin-heading">Flat creation</h1>\n				<p class="form-signin-heading">Let\'s get crazy !</p>\n\n				<form class="form-signin" method="POST" name="FlatCreationForm" role="form">\n					<label for="flatname" class="sr-only">Flat name</label>\n					<input type="text" id="pseudo" class="form-control" placeholder="New Flat" size="30" maxlength="30" ng-model="dataFlat.nom" required autofocus>\n					</br>\n					<div ng-show="SignUpForm.$submitted || form.mail.$touched">\n					</div>\n					</br>\n					<button ng-click="create(dataFlat)" class="btn btn-lg btn-primary btn-block" type="submit">Create</button>\n				</form>\n			</div> \n			</br>\n </section>\n\n\n\n'),e.put("groceries.html",'<section class="section container-fluid scrollable scrollable-content" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" ng-controller="GroceriesController" overflow:auto>\n\n    <h2 class="sub-header">Groceries</h2>\n	<div class="table-responsive" >\n\n		<table class="table" data-toggle="table" data-cache="false" data-click-to-select="true" data-single-select="true">\n			\n			<thead>\n				<tr>\n					<th>Missing items</th>\n				</tr>\n			</thead>\n			\n				<tbody >\n					\n					<tr ng-repeat="items in Liste">\n						<td drag-to-dismiss="deleteOneProduct(items)"  ><li class="fa fa-ellipsis-v"  >  {{items.nom}} </li>\n							\n							\n						</td> \n						<!--<td ng-show="!showActions" ng-swipe-left="showActions = true">{{items.nom}} \n							\n							\n						</td> \n						<td ng-show="showActions" ng-swipe-right="showActions = false">{{items.nom}} \n							\n							<button  class="btn btn-lg btn-primary btn-block" ng-show="showActions" ng-swipe-right="showActions = false" ng-click="cancel()">Cancel</button>\n							<button class="btn btn-lg btn-primary btn-block" ng-show="showActions" ng-swipe-right="showActions = false" ng-click="deleteOneProduct()">Delete</button>\n						</td> -->\n					</tr>\n					\n					\n				</tbody>\n			\n			\n		</table>\n		\n	</div>\n\n		</br>\n		</br>\n\n		<p class="form-signin-heading">Is an item missing in your flat ?</p>\n\n		<form class="form-signin" method="POST" name="GroceriesForm" role="form">\n			<input type="text" id="pseudo" class="form-control" placeholder="Missing product" size="30" maxlength="80" ng-model="product.name" required autofocus>\n			</br>\n			<div ng-show="SignUpForm.$submitted || form.mail.$touched">\n			</div>\n			</br>\n			<button ng-click="addProduct(product)" class="btn btn-lg btn-primary btn-block" type="submit">Add this product</button>\n		</form>\n\n		</br>\n\n		<p class="form-signin-heading">You bought all the groceries, empty the shopping list !</p>\n\n		<form class="form-signin" method="POST" name="GroceriesForm" role="form">\n			<button ng-click="deleteProducts()" class="btn btn-lg btn-primary btn-block" type="submit">Empty</button>\n		</form>\n\n\n\n</section>\n\n\n   \n \n\n\n'),e.put("myflat.html",'\n<section class="section container-fluid scrollable scrollable-content" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" ng-controller="MyflatController">\n\n  <h2 class="sub-header"> My Flat: {{myflatname}} !</h2>\n\n      <table class="table col-xs-8">\n        <thead>\n          <tr>\n            <th>Mates</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="roommate in Liste">\n           <td>{{roommate.nom_utilisateur}}</td>\n          </tr>\n        </tbody>\n      </table>\n      <h3> Want to add a new Roommate ?</h3>\n\n      <h4> Give us his email !</h4>\n      <form class="form-signin" method="POST" name="AddMateForm" role="form">\n        <label for="mail" class="sr-only">Email address</label>\n        <p>  \n          <input type="email" class="form-control" id="mail" placeholder="flatmate@room8.com" size="30" maxlength="50" ng-model="mate.mail"required>\n          <div ng-show="AddMateForm.$submitted || form.mail.$touched">\n            <span ng-show="AddMateForm.mail.$error.required">Tell us his email</span>\n            <span ng-show="AddMateform.mail.$error.email">This is not a valid email</span>\n          </div>\n          <button ng-click="add(mate)" type="submit" class="btn btn-lg btn-primary btn-block">Send</button>\n        </p>\n      </form>\n</section>\n\n\n   \n \n\n\n'),e.put("newsfeed.html",'\n<section class="section container-fluid scrollable scrollable-content" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="getAllNews()">\n\n    <h2 class="sub-header">News Feed </h2>\n         \n	<table class="table col-xs-8" ng-controller="NewsController">\n\n		<thead>\n			<tr>\n				<th>Date</th>\n				<th>News</th>\n			</tr>\n		</thead>\n		<tbody>	  \n			<tr ng-repeat="new in Liste">\n				<td>{{new.date}}</td>\n				<td>{{new.text}}</td>\n			</tr>				\n		</tbody>\n	</table>\n			\n</section>\n\n\n\n'),e.put("registration.html",'<section class="section container-fluid scrollable scrollable-content" ng-controller="RegistrationController"ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" overflow:auto>\n	\n			<section class="row">	\n				<h2 class="col-xs-12"><center>Welcome to </br><i>Room8</i></center></h2>\n			</section>\n\n			<div class="container">\n				<h4><center>Are you new? Sign up then!</center></h4>\n\n				<form class="form-signin" method="POST" name="SignUpForm" role="form">\n					<label for="pseudo" class="sr-only">Pseudo</label>\n					Pseudo\n					<input type="text" id="pseudo" class="form-control" placeholder="Pseudo" size="30" maxlength="30" ng-model="dataUser.nom" required autofocus>\n					</br>\n					<label for="mail" class="sr-only">Email address</label>\n					Email address\n					<input type="email" class="form-control" id="mail" placeholder="flatmate@room8.com" size="30" maxlength="50" ng-model="dataUser.mail"required>\n					<div ng-show="SignUpForm.$submitted || form.mail.$touched">\n						<span ng-show="SignUpForm.mail.$error.required">Tell us your email.</span>\n						<span ng-show="SignUPform.mail.$error.email">This is not a valid email.</span>\n					</div>\n					</br>\n					<label for="pass" class="sr-only">Password</label>\n					Password\n					<input type="password" id="pass" class="form-control" placeholder="Password" ng-model="dataUser.password" name="password"  required>\n					</br>\n					<label for="pass" class="sr-only">Confirm Password</label>\n					Confirm Password\n					<input type="password" id="pass" class="form-control" placeholder="Password" ng-model="dataUser.confirmPassword" data-match="dataUser.password"  required>\n					</br>\n					<button ng-click="create(dataUser)" class="btn btn-lg btn-primary btn-block" type="submit" >Sign up</button>\n				</form>\n			</div> \n			</br>\n			<div class="container">\n				<h4><center>It is not your first time here? Sign in!</center></h4>\n				<form class="form-signin" method="GET" name="SignInForm" role="form">\n					<label for="inputPseudo" class="sr-only">Pseudo</label>\n					Pseudo\n					<input type="text" id="inputPseudo" class="form-control" placeholder="Pseudo"  ng-model="User.pseudo"required>\n					</br>\n				    <label for="inputPassword" class="sr-only">Password</label>\n				    Password\n					<input type="password" id="inputPassword" class="form-control" placeholder="Password" ng-model="User.password" required>\n					</br>\n					<button ng-click="connect(User)" class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>\n				</form> \n			</div>\n		</div>\n	</div>\n </section>\n\n\n\n'),e.put("scan.html",'<section class="section container-fluid scrollable scrollable-content" ng-controller="ScanController"ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()">\n	\n			<h2 class="sub-header">Scan </h2>\n			<button camera ng-model=\'myPicture\'class="btn btn-primary">Take Picture</button>\n\n\n		</br>\n\n	<button onclick="capturePhoto()">Prendre une photo</button> <br>\n    <button onclick="capturePhotoEdit();">Prendre une photo et l\'éditer</button> <br>\n    <button onclick="getPhoto(pictureSource.PHOTOLIBRARY);">Depuis la gallerie de photos</button><br>\n    <button onclick="getPhoto(pictureSource.SAVEDPHOTOALBUM);">Depuis l\'album photo</button><br>\n    <img style="display:none;width:60px;height:60px;" id="smallImage" src="" />\n    <img style="display:none;" id="largeImage" src="" />\n\n </section>\n\n\n\n'),e.put("settings.html",'<section class="section container-fluid scrollable scrollable-content" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" overflow:auto>\n\n	<div class="container-fluid" ng-controller="SettingController">\n		<h1>Your Profile</h1>\n	\n	\n		<form class="form-signin" method="POST" name="ChangeProfile" role="profile">\n			<label for="pseudo" class="sr-only">Pseudo</label>\n			<input type="text" id="pseudo" class="form-control" size="30" maxlength="30" ng-model="User.nom_utilisateur" required>\n			</br>\n			<label for="mail" class="sr-only">Email address</label>\n			<input type="email" class="form-control" id="mail" size="30" maxlength="50" ng-model="User.adresse_mail"required>\n			\n			<div ng-show="SignUpForm.$submitted || form.mail.$touched">\n				<span ng-show="SignUpForm.mail.$error.required">Tell us your email.</span>\n				<span ng-show="SignUPform.mail.$error.email">This is not a valid email.</span>\n			</div>\n			\n			</br>\n			<label for="pass" class="sr-only">Password</label>\n			<input type="password" id="mot_de_passe" class="form-control" ng-model="User.mot_de_passe" required>\n			</br>\n			\n			\n			\n			\n			</br>\n			<button ng-click="update(User)" class="btn btn-lg btn-primary btn-block" type="submit" >Change</button> \n			</br>\n			<button ng-click="refresh()" type="submit" class="btn btn-lg btn-primary btn-block">Cancel</button>\n			</br>\n			<button ng-click="leaveFlat()" ng-confirm-box-click="Do you really want to leave your flat?" class="btn btn-lg btn-primary btn-block" type="submit" >Leave my flat</button>\n			</br>\n		</form>\n	\n	</div> \n	</br>\n\n</section>\n'),e.put("sidebar.html",'<h1 class="app-name">Room8</h1>\n<div class="sidebar sidebar-left">\n	<div class="scrollable" ng-controller="MainController">\n	  <h1 class="scrollable-header app-name">Room8</h1>  \n	  <div class="scrollable-content">\n	    <div class="list-group" ui-turn-off=\'uiSidebarLeft\'>\n	      <a class="list-group-item" href="#/Newsfeed">NewsFeed<i class="fa fa-chevron-right pull-right"></i></a>\n		  <a class="list-group-item" href="#/MyFlat">My Flat<i class="fa fa-chevron-right pull-right"></i></a>  \n		  <a class="list-group-item" href="#/Accounts">Accounts<i class="fa fa-chevron-right pull-right"></i></a>\n		  <a class="list-group-item" href="#/Chat">Chat<i class="fa fa-chevron-right pull-right"></i></a>\n		  <a class="list-group-item" href="#/ToDo">To Do<i class="fa fa-chevron-right pull-right"></i></a>\n		  <a class="list-group-item" href="#/Groceries">Groceries<i class="fa fa-chevron-right pull-right"></i></a>\n		  <a class="list-group-item" href="#/Scan">Scan<i class="fa fa-chevron-right pull-right"></i></a>\n		  <a class="list-group-item" href="#/Settings">Settings<i class="fa fa-chevron-right pull-right"></i></a>\n		  <a ng-click="logout()"class="list-group-item">Logout</a>\n	    </div>\n	  </div>\n	</div>\n</div>\n\n'),e.put("sidebarRight.html",'<h1 class="app-name">Room8</h1>\n<div class="sidebar sidebar-right">\n	<div class="scrollable" ng-controller="MainController">\n	  <h1 class="scrollable-header app-name">Room8</h1>  \n	  <div class="scrollable-content">\n	    <div class="list-group" ui-turn-off=\'uiSidebarRight\'>\n	      \n	    </div>\n	  </div>\n	</div>\n</div>\n'),e.put("spending.html",'<section class="section container-fluid scrollable scrollable-content" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()" ng-controller="SpendingController" overflow:auto>\n\n    <h2 class="sub-header">Spending</h2>\n\n		<form class="form-signin" method="POST" name="SpendingForm" role="form">\n			\n			<p class="form-signin-heading">How much did you pay ? </p>\n\n			<div class="col-xs-5 input-group">\n				<label class="sr-only" for="exampleInputAmount">Amount (in euros)</label>\n    			<input type="text" class="form-control" id="exampleInputAmount" placeholder="Amount" ng-model=\'amount\'>\n    			<div class="input-group-addon">€</div>\n    		</div>\n\n			</br>\n\n			<p class="form-signin-heading">Select the roommates who are concerned. </p>\n\n    		<label ng-repeat="roommate in Liste" ng-if="roommate.id_utilisateur != user">\n  				<pre><input type="checkbox" checklist-model="mate" checklist-value="roommate.id_utilisateur" checked/> {{roommate.nom_utilisateur}}</pre>\n			</label>\n			</br>\n			</br>\n\n			<button ng-click="newTransfer(mate, amount)" class="btn btn-lg btn-primary btn-block" type="submit">Publish !</button>\n		</form>\n\n\n\n</section>\n\n\n   \n \n\n\n'),e.put("todo.html",'\n<section class="section container-fluid scrollable scrollable-content" ng-swipe-right=\'Ui.turnOn("uiSidebarLeft")\' ui-scroll-bottom="loadMore()"  ng-controller="ToDoController">\n\n          <h2 class="sub-header">Tasks </h2>\n         \n\n					<table class="table col-xs-8">\n\n							<thead>\n								<tr>\n									<th>Task</th>\n									<th>Done</th>\n								</tr>\n							</thead>\n							<tbody>\n		  \n								<tr ng-repeat="task in Tasks">\n									<td>{{task.texte}}</td>\n									<td>\n										<a class="btn btn-primary" ng-click="deleteTask(task)"> \n										<i class="fa fa-check-circle fa-"></i> I did it</a>\n									</td>\n								</tr>\n				\n							</tbody>\n					</table>\n\n\n					<button ng-click="toggle()" class="btn btn-primary" toggle="toggle" target="transferts">Add Task</button></h3>\n<div ng-show="isVisible" class="ng-hide">\n</br>\n					\n<form class="form-inline">\n\n<div class="row">\n\n  <div class="col-xs-8">\n    <select class="form-control input-xs col-xs-4" ng-model="thechosen.idTache">\n    	<option ng-repeat="task in Liste" value="{{task.idTache}}">{{task.texte}}</option>\n    </select>\n  </div>\n  <div class="col-xs-4">\n  	<button ng-click="addTask(thechosen)" type="submit" class="btn btn-primary center-block">Submit</button>\n  </div>\n  \n</div>\n</form>\n\n</br>\n\n<form class="form-inline">\n<div class="row">\n\n<div class="form-group">\n<div class="col-xs-8">\n	<div class="input-xs col-xs-3">\n  	<label for="task">Other</label>\n	</div>\n\n  	<div class="input-xs col-xs-9">\n   	<input type="text" ng-model="new" class="form-control" placeholder="Task" autofocus>  \n  	</div>\n</div>\n\n  <div class="col-xs-4">\n    <button type="submit" ng-click="newTask(new)" class="btn btn-primary center-block">Submit</button>\n  </div>\n  \n</div>\n</div>\n\n</form>\n\n</div>\n\n\n')
}]);
//# sourceMappingURL=app.min.js.map